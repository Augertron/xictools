#! /bin/sh
# $Id: wr_filename,v 1.9 2014/02/19 04:33:51 stevew Exp $

# Construct the name of the distribution file from the arguments.
#   arguments: program_name distrib_name version_number
# The distrib name is the repository distribution name, which has
# the form
#   (os name)(identifier)[_(arch)]
# The _(arch) part is stripped if it appears.
# The version_number is in the form
#   generation.major.minor
#
filename()
{
    prog=$1
    dist=$2
    vers=$3
    case $dist in
    Darwin)
        echo $prog-$dist-$vers-univ.pkg.tgz
        ;;
    Darwin64)
        echo $prog-$dist-$vers-x86_64.pkg
        ;;
    Debian)
        echo $prog-$dist-$vers-i386.deb
        ;;
    Debian64)
        echo $prog-$dist-$vers-amd64.deb
        ;;
    FreeBSD*)
        echo $prog-$dist-$vers-i386.pkg.tbz
        ;;
    Linux2)
        echo $prog-$dist-$vers-i386.rpm
        ;;
    LinuxRHEL3 | LinuxRHEL4 | LinuxRHEL5)
        echo $prog-$dist-$vers-i686.rpm
        ;;
    LinuxRHEL3_64)
        echo $prog-LinuxRHEL3-$vers-x86_64.rpm
        ;;
    LinuxRHEL4_64)
        echo $prog-LinuxRHEL4-$vers-x86_64.rpm
        ;;
    LinuxRHEL5_64)
        echo $prog-LinuxRHEL5-$vers-x86_64.rpm
        ;;
    Solaris8)
        echo $prog-$dist-$vers-sparc.pkg.gz
        ;;
    Solaris8_64)
        echo $prog-Solaris8-$vers-sparc64.pkg.gz
        ;;
    Win*)
        echo $prog-Win32-$vers-i386.exe
        ;;
    esac
}


if [ $# != 3 ]; then
    echo Usage: wr_filename program distrib_name verson
    exit 1
fi
filename $1 $2 $3
