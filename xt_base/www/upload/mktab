#! /bin/bash

progs="adms fastcap fasthenry mozy mrouter vl wrspice xic"
oses="Darwin LinuxFedora26 LinuxOpenSUSE13 LinuxRHEL5.i686 LinuxRHEL5 \
 LinuxRHEL6 LinuxRHEL7 LinuxUbuntu17 Win32"

tabfile=os_tab

echo "# Generated by mktab" > $tabfile
for os in $oses; do
    echo -n $os
    for a in $progs; do
        while [ true ]; do
            read foo
            if [ -z "$foo" ]; then
                break
            fi
            set -- $foo
            if [ $os == $1 ]; then
                echo -n " $a-$2"
                break
            fi
        done < release_$a
    done
    echo
done >> $tabfile

